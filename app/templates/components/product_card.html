{% macro product_card(product, current_user) %}
<div
  class="flex flex-col w-52 bg-white p-2 rounded-lg overflow-hidden justify-between"
>
  <a href="{{ url_for('product_page', id=product.id) }}">
    <img
      src="{{ url_for('static', filename='images/pics/' + product.icon + '.jpg') }}"
      alt="{{ product.name }}"
      class="w-[200px] h-[200px] object-contain rounded-t-lg transition-transform hover:shadow-xl hover:transform hover:scale-[1.06]"
    />
  </a>

  <a href="{{ url_for('product_page', id=product.id) }}">
    <h3
      class="pt-2 text-sm limited-div leading-normal font-semibold font-palanquin"
    >
      {{ product.name }}
    </h3>
  </a>
  <div class="flex justify-between items-center pt-2 border-t-2">
    <p class="leading-normal font-montserrat text-lg">
      Price: <span class="text-primary text-xl">{{ product.price }}$</span>
    </p>
    <button onclick="{{ 'addToCart(\'' ~ product.id ~ '\', this)' if (current_user.is_authenticated) else 'window.location.href = \'' ~ url_for('login') ~ '\'' }}">
      <img
        id="product_add"
        src="../../static/images/add-to-cart.png"
        alt="Shopping Cart"
        width="32px"
        class="cursor-pointer hover:scale-[1.06]"
      />
      <img
        id="product_remove"
        src="../../static/images/remove.png"
        alt="Shopping Cart"
        width="32px"
        class="cursor-pointer hover:scale-[1.06] hidden"
      />
    </button>
  </div>
</div>
{% endmacro %}
